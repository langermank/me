---
import Layout from '../../../../packages/shared/Layout.astro';
import { getCollection } from 'astro:content';
import PostCard from '../../../../packages/shared/PostCard.astro';

const diyPosts = await getCollection('diy');
const sortedPosts = diyPosts.sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---

<Layout title="Katie Langerman" description="Katie learns to renovate her home" siteType="diy">
  <main>
    <section class="intro">
      <p>Welcome to my DIY corner! This is where I share tutorials, code experiments, and creative projects I'm working on.</p>
      <p>From quick tips to deep dives, it's all about learning and building things. Think of this as my digital workshop where I document what I'm making and figuring out.</p>
      <p>
        Whether it's trying out new web technologies, automating my workflow, or just documenting something I learned the hard way, you'll find it here.
      </p>
    </section>

    <section class="diy-posts">
      {
        sortedPosts.length === 0 ? (
          <p class="no-posts">No DIY posts yet. Check back soon!</p>
        ) : (
          <div class="post-index">
            {sortedPosts.map((post) => (
              <PostCard
                title={post.data.title}
                date={post.data.date}
                thumbnail={post.data.thumbnail}
                description={post.data.description || post.data.title}
                hasMore={true}
                slug={post.slug}
              />
            ))}
          </div>
        )
      }
    </section>
  </main>
</Layout>
